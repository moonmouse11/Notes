# PSR-4
***
## Автозагрузчик
Ключевые слова `«ОБЯЗАН», «НЕ ОБЯЗАН», «НЕОБХОДИМ», «ЖЕЛАТЕЛЕН», «НЕ ЖЕЛАТЕЛЕН», «ДОЛЖЕН», «НЕ ДОЛЖЕН», «РЕКОМЕНДОВАН», «ВЕРОЯТЕН», «ОПЦИОНАЛЕН»` в этом документе `СЛЕДУЕТ` интерпретировать в соответствии с [RFC 2119](http://www.ietf.org/rfc/rfc2119.txt).
***
## Обзор
`PSR-4` описывает спецификацию для [автозагрузки](http://php.net/autoload) классов из путей к файлам. Он полностью совместим и может быть использован в дополнении к любой другой спецификации автозагрузки, включая `PSR-0`. `PSR-4` также описывает, где размещать файлы, которые будут автоматически загружены в соответствии со спецификацией.
***
## Спецификация
1. Термин "класс" означает классы, интерфейсы, трэйты и другие подобные структуры.  
2. Полное имя класса имеет следующую форму:
```php
\<NamespaceName>(\<SubNamespaceNames>)*\<ClassName>
```
- Полное имя класса `ОБЯЗАНО` иметь пространство имён верхнего уровня, так же известное как "пространство имён поставщика".
-  Полное имя класса `МОЖЕТ` иметь одно или более суб-пространство имён.
- Полное имя класса `ОБЯЗАНО` иметь завершающее имя класса.
- Символы нижнего подчёркивания не имеют специального назначения в любой области полного имени класса.
- Алфавитные символы в полном имени класса `МОГУТ` иметь любое сочетание нижнего и верхнего регистра.
- Все имена классов `ОБЯЗАНЫ` сслылаться на путь с учётом регистра.
3. При загрузке файла, который соответствует полному имени класса ...
- Непрерывный ряд одного или более ведущих пространств и суб-пространств имён, не включая ведущий разделитель пространств имён, в полном имени класса ("префикс пространства имён") соответствует по меньшей мере одному "базовому директорию".
- Непрерывный ряд суб-пространств имён после "префикса пространства имён" соответствует поддиректорию в "базовом директории", в котором разделители пространств имён представляют разделители директорий. Имя поддиректория `ОБЯЗАНО` соответствовать регистру суб-пространств имён.
- Завершающее имя класса соответствует имени файла, оканчивающегося на `.php`. Имя файла `ОБЯЗАНО` соответствовать регистру завершающего имени класса.        
4. Реализации автозагрузчика `НЕ ОБЯЗАНЫ` бросать исключения, `НЕ ОБЯЗАНЫ` вызывать ошибки любого уровня, и `НЕ ДОЛЖНЫ` возвращать значение.
***
## Примеры
В таблице ниже показано соответствие пути к файлу для заданного полного имени класса, префикса пространства имён и базового директория.

| Полное имя класса              | Префикс пространства имён | Базовый директорий       | Путь к файлу                                |
| ------------------------------ | ------------------------- | ------------------------ | ------------------------------------------- |
| `\Acme\Log\Writer\File_Writer` | `Acme\Log\Writer`         | `./acme-log-writer/lib/` | `./acme-log-writer/lib/File_Writer.php`     |
| `\Aura\Web\Response\Status`    | `Aura\Web`                | `/path/to/aura-web/src/` | `/path/to/aura-web/src/Response/Status.php` |
| `\Symfony\Core\Request`        | `Symfony\Core`            | `./vendor/Symfony/Core/` | `./vendor/Symfony/Core/Request.php`         |
| `\Zend\Acl`                    | `Zend`                    | `/usr/includes/Zend/`    | `/usr/includes/Zend/Acl.php`                |

[Примеры](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader-examples.md) реализации автозагрузчиков, соответствующих спецификации. Они `НЕ ДОЛЖНЫ` рассматриваться как часть спецификации и `МОГУТ` быть изменены в любое время.